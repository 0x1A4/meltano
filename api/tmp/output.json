{"files":[{"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","_file_rel":"../../looker/beyond_90days_open_invoices.view.lkml","_file_name":"beyond_90days_open_invoices","_file_type":"view"},{"view":{"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_account.view.lkml","_file_rel":"../../looker/dim_account.view.lkml","_file_name":"dim_account","_file_type":"view"},{"view":{"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0}},"views":[{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_date.view.lkml","_file_rel":"../../looker/dim_date.view.lkml","_file_name":"dim_date","_file_type":"view"},{"view":{"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","_file_rel":"../../looker/dim_leadsource.view.lkml","_file_name":"dim_leadsource","_file_type":"view"},{"view":{"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","_file_rel":"../../looker/dim_opportunitystage.view.lkml","_file_name":"dim_opportunitystage","_file_type":"view"},{"view":{"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","_file_rel":"../../looker/f_acct_churn_history.view.lkml","_file_name":"f_acct_churn_history","_file_type":"view"},{"view":{"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","_file_rel":"../../looker/f_churn_history.view.lkml","_file_name":"f_churn_history","_file_type":"view"},{"view":{"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","_file_rel":"../../looker/f_opportunity.view.lkml","_file_name":"f_opportunity","_file_type":"view"},{"view":{"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0}},"views":[{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","_file_rel":"../../looker/f_snapshot_opportunity.view.lkml","_file_name":"f_snapshot_opportunity","_file_type":"view"},{"model":{"finance":{"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/finance.model.lkml","_file_rel":"../../looker/finance.model.lkml","_file_name":"finance","_file_type":"model"},{"model":{"looker_development":{"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/looker_development.model.lkml","_file_rel":"../../looker/looker_development.model.lkml","_file_name":"looker_development","_file_type":"model"},{"view":{"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","_file_rel":"../../looker/pipeline_change.view.lkml","_file_name":"pipeline_change","_file_type":"view"},{"model":{"product":{"connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/product.model.lkml","_file_rel":"../../looker/product.model.lkml","_file_name":"product","_file_type":"model"},{"model":{"sales":{"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sales.model.lkml","_file_rel":"../../looker/sales.model.lkml","_file_name":"sales","_file_type":"model"},{"view":{"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0}},"views":[{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","_file_rel":"../../looker/sfdc_opportunity.view.lkml","_file_name":"sfdc_opportunity","_file_type":"view"},{"view":{"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","_file_rel":"../../looker/sfdc_sao.view.lkml","_file_name":"sfdc_sao","_file_type":"view"},{"view":{"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","_file_rel":"../../looker/sfdc_user.view.lkml","_file_name":"sfdc_user","_file_type":"view"},{"view":{"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0}},"views":[{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","_file_rel":"../../looker/tmp_snowplow.view.lkml","_file_name":"tmp_snowplow","_file_type":"view"},{"view":{"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0}},"views":[{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/usage_data.view.lkml","_file_rel":"../../looker/usage_data.view.lkml","_file_name":"usage_data","_file_type":"view"},{"view":{"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0}},"views":[{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_account.view.lkml","_file_rel":"../../looker/zuora_account.view.lkml","_file_name":"zuora_account","_file_type":"view"},{"view":{"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","_file_rel":"../../looker/zuora_ar.view.lkml","_file_name":"zuora_ar","_file_type":"view"},{"view":{"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0}},"views":[{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","_file_rel":"../../looker/zuora_invoice.view.lkml","_file_name":"zuora_invoice","_file_type":"view"},{"view":{"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_product.view.lkml","_file_rel":"../../looker/zuora_product.view.lkml","_file_name":"zuora_product","_file_type":"view"}],"file":{"model":{"finance":{"model":{"finance":{"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/finance.model.lkml","_file_rel":"../../looker/finance.model.lkml","_file_name":"finance","_file_type":"model"},"looker_development":{"model":{"looker_development":{"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/looker_development.model.lkml","_file_rel":"../../looker/looker_development.model.lkml","_file_name":"looker_development","_file_type":"model"},"product":{"model":{"product":{"connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/product.model.lkml","_file_rel":"../../looker/product.model.lkml","_file_name":"product","_file_type":"model"},"sales":{"model":{"sales":{"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0}},"models":[{"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sales.model.lkml","_file_rel":"../../looker/sales.model.lkml","_file_name":"sales","_file_type":"model"}},"view":{"beyond_90days_open_invoices":{"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","_file_rel":"../../looker/beyond_90days_open_invoices.view.lkml","_file_name":"beyond_90days_open_invoices","_file_type":"view"},"dim_account":{"view":{"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_account.view.lkml","_file_rel":"../../looker/dim_account.view.lkml","_file_name":"dim_account","_file_type":"view"},"dim_date":{"view":{"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0}},"views":[{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_date.view.lkml","_file_rel":"../../looker/dim_date.view.lkml","_file_name":"dim_date","_file_type":"view"},"dim_leadsource":{"view":{"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","_file_rel":"../../looker/dim_leadsource.view.lkml","_file_name":"dim_leadsource","_file_type":"view"},"dim_opportunitystage":{"view":{"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","_file_rel":"../../looker/dim_opportunitystage.view.lkml","_file_name":"dim_opportunitystage","_file_type":"view"},"f_acct_churn_history":{"view":{"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","_file_rel":"../../looker/f_acct_churn_history.view.lkml","_file_name":"f_acct_churn_history","_file_type":"view"},"f_churn_history":{"view":{"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","_file_rel":"../../looker/f_churn_history.view.lkml","_file_name":"f_churn_history","_file_type":"view"},"f_opportunity":{"view":{"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","_file_rel":"../../looker/f_opportunity.view.lkml","_file_name":"f_opportunity","_file_type":"view"},"f_snapshot_opportunity":{"view":{"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0}},"views":[{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","_file_rel":"../../looker/f_snapshot_opportunity.view.lkml","_file_name":"f_snapshot_opportunity","_file_type":"view"},"pipeline_change":{"view":{"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","_file_rel":"../../looker/pipeline_change.view.lkml","_file_name":"pipeline_change","_file_type":"view"},"sfdc_opportunity":{"view":{"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0}},"views":[{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","_file_rel":"../../looker/sfdc_opportunity.view.lkml","_file_name":"sfdc_opportunity","_file_type":"view"},"sfdc_sao":{"view":{"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","_file_rel":"../../looker/sfdc_sao.view.lkml","_file_name":"sfdc_sao","_file_type":"view"},"sfdc_user":{"view":{"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0}},"views":[{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","_file_rel":"../../looker/sfdc_user.view.lkml","_file_name":"sfdc_user","_file_type":"view"},"tmp_snowplow":{"view":{"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0}},"views":[{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","_file_rel":"../../looker/tmp_snowplow.view.lkml","_file_name":"tmp_snowplow","_file_type":"view"},"usage_data":{"view":{"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0}},"views":[{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/usage_data.view.lkml","_file_rel":"../../looker/usage_data.view.lkml","_file_name":"usage_data","_file_type":"view"},"zuora_account":{"view":{"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0}},"views":[{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_account.view.lkml","_file_rel":"../../looker/zuora_account.view.lkml","_file_name":"zuora_account","_file_type":"view"},"zuora_ar":{"view":{"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","_file_rel":"../../looker/zuora_ar.view.lkml","_file_name":"zuora_ar","_file_type":"view"},"zuora_invoice":{"view":{"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0}},"views":[{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","_file_rel":"../../looker/zuora_invoice.view.lkml","_file_name":"zuora_invoice","_file_type":"view"},"zuora_product":{"view":{"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}],"_file_path":"/Users/jacobschatz/projects/looker/zuora_product.view.lkml","_file_rel":"../../looker/zuora_product.view.lkml","_file_name":"zuora_product","_file_type":"view"}},"explore":{}},"models":[{"model":{"finance":{"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0}},"_file_path":["/Users/jacobschatz/projects/looker/finance.model.lkml","/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","/Users/jacobschatz/projects/looker/dim_account.view.lkml","/Users/jacobschatz/projects/looker/dim_date.view.lkml","/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","/Users/jacobschatz/projects/looker/usage_data.view.lkml","/Users/jacobschatz/projects/looker/zuora_account.view.lkml","/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","/Users/jacobschatz/projects/looker/zuora_product.view.lkml"],"_file_rel":["../../looker/finance.model.lkml","../../looker/beyond_90days_open_invoices.view.lkml","../../looker/dim_account.view.lkml","../../looker/dim_date.view.lkml","../../looker/dim_leadsource.view.lkml","../../looker/dim_opportunitystage.view.lkml","../../looker/f_acct_churn_history.view.lkml","../../looker/f_churn_history.view.lkml","../../looker/f_opportunity.view.lkml","../../looker/f_snapshot_opportunity.view.lkml","../../looker/pipeline_change.view.lkml","../../looker/sfdc_opportunity.view.lkml","../../looker/sfdc_sao.view.lkml","../../looker/sfdc_user.view.lkml","../../looker/tmp_snowplow.view.lkml","../../looker/usage_data.view.lkml","../../looker/zuora_account.view.lkml","../../looker/zuora_ar.view.lkml","../../looker/zuora_invoice.view.lkml","../../looker/zuora_product.view.lkml"],"_file_name":["finance","beyond_90days_open_invoices","dim_account","dim_date","dim_leadsource","dim_opportunitystage","f_acct_churn_history","f_churn_history","f_opportunity","f_snapshot_opportunity","pipeline_change","sfdc_opportunity","sfdc_sao","sfdc_user","tmp_snowplow","usage_data","zuora_account","zuora_ar","zuora_invoice","zuora_product"],"_file_type":["model","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view"],"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0,"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}]},{"model":{"looker_development":{"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0}},"_file_path":["/Users/jacobschatz/projects/looker/looker_development.model.lkml","/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","/Users/jacobschatz/projects/looker/dim_account.view.lkml","/Users/jacobschatz/projects/looker/dim_date.view.lkml","/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","/Users/jacobschatz/projects/looker/usage_data.view.lkml","/Users/jacobschatz/projects/looker/zuora_account.view.lkml","/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","/Users/jacobschatz/projects/looker/zuora_product.view.lkml"],"_file_rel":["../../looker/looker_development.model.lkml","../../looker/beyond_90days_open_invoices.view.lkml","../../looker/dim_account.view.lkml","../../looker/dim_date.view.lkml","../../looker/dim_leadsource.view.lkml","../../looker/dim_opportunitystage.view.lkml","../../looker/f_acct_churn_history.view.lkml","../../looker/f_churn_history.view.lkml","../../looker/f_opportunity.view.lkml","../../looker/f_snapshot_opportunity.view.lkml","../../looker/pipeline_change.view.lkml","../../looker/sfdc_opportunity.view.lkml","../../looker/sfdc_sao.view.lkml","../../looker/sfdc_user.view.lkml","../../looker/tmp_snowplow.view.lkml","../../looker/usage_data.view.lkml","../../looker/zuora_account.view.lkml","../../looker/zuora_ar.view.lkml","../../looker/zuora_invoice.view.lkml","../../looker/zuora_product.view.lkml"],"_file_name":["looker_development","beyond_90days_open_invoices","dim_account","dim_date","dim_leadsource","dim_opportunitystage","f_acct_churn_history","f_churn_history","f_opportunity","f_snapshot_opportunity","pipeline_change","sfdc_opportunity","sfdc_sao","sfdc_user","tmp_snowplow","usage_data","zuora_account","zuora_ar","zuora_invoice","zuora_product"],"_file_type":["model","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view"],"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0,"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}]},{"model":{"product":{"connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0}},"_file_path":"/Users/jacobschatz/projects/looker/product.model.lkml","_file_rel":"../../looker/product.model.lkml","_file_name":"product","_file_type":"model","connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0},{"model":{"sales":{"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0}},"_file_path":["/Users/jacobschatz/projects/looker/sales.model.lkml","/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","/Users/jacobschatz/projects/looker/dim_account.view.lkml","/Users/jacobschatz/projects/looker/dim_date.view.lkml","/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","/Users/jacobschatz/projects/looker/usage_data.view.lkml","/Users/jacobschatz/projects/looker/zuora_account.view.lkml","/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","/Users/jacobschatz/projects/looker/zuora_product.view.lkml"],"_file_rel":["../../looker/sales.model.lkml","../../looker/beyond_90days_open_invoices.view.lkml","../../looker/dim_account.view.lkml","../../looker/dim_date.view.lkml","../../looker/dim_leadsource.view.lkml","../../looker/dim_opportunitystage.view.lkml","../../looker/f_acct_churn_history.view.lkml","../../looker/f_churn_history.view.lkml","../../looker/f_opportunity.view.lkml","../../looker/f_snapshot_opportunity.view.lkml","../../looker/pipeline_change.view.lkml","../../looker/sfdc_opportunity.view.lkml","../../looker/sfdc_sao.view.lkml","../../looker/sfdc_user.view.lkml","../../looker/tmp_snowplow.view.lkml","../../looker/usage_data.view.lkml","../../looker/zuora_account.view.lkml","../../looker/zuora_ar.view.lkml","../../looker/zuora_invoice.view.lkml","../../looker/zuora_product.view.lkml"],"_file_name":["sales","beyond_90days_open_invoices","dim_account","dim_date","dim_leadsource","dim_opportunitystage","f_acct_churn_history","f_churn_history","f_opportunity","f_snapshot_opportunity","pipeline_change","sfdc_opportunity","sfdc_sao","sfdc_user","tmp_snowplow","usage_data","zuora_account","zuora_ar","zuora_invoice","zuora_product"],"_file_type":["model","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view"],"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0,"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}]}],"model":{"finance":{"model":{"finance":{"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0}},"_file_path":["/Users/jacobschatz/projects/looker/finance.model.lkml","/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","/Users/jacobschatz/projects/looker/dim_account.view.lkml","/Users/jacobschatz/projects/looker/dim_date.view.lkml","/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","/Users/jacobschatz/projects/looker/usage_data.view.lkml","/Users/jacobschatz/projects/looker/zuora_account.view.lkml","/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","/Users/jacobschatz/projects/looker/zuora_product.view.lkml"],"_file_rel":["../../looker/finance.model.lkml","../../looker/beyond_90days_open_invoices.view.lkml","../../looker/dim_account.view.lkml","../../looker/dim_date.view.lkml","../../looker/dim_leadsource.view.lkml","../../looker/dim_opportunitystage.view.lkml","../../looker/f_acct_churn_history.view.lkml","../../looker/f_churn_history.view.lkml","../../looker/f_opportunity.view.lkml","../../looker/f_snapshot_opportunity.view.lkml","../../looker/pipeline_change.view.lkml","../../looker/sfdc_opportunity.view.lkml","../../looker/sfdc_sao.view.lkml","../../looker/sfdc_user.view.lkml","../../looker/tmp_snowplow.view.lkml","../../looker/usage_data.view.lkml","../../looker/zuora_account.view.lkml","../../looker/zuora_ar.view.lkml","../../looker/zuora_invoice.view.lkml","../../looker/zuora_product.view.lkml"],"_file_name":["finance","beyond_90days_open_invoices","dim_account","dim_date","dim_leadsource","dim_opportunitystage","f_acct_churn_history","f_churn_history","f_opportunity","f_snapshot_opportunity","pipeline_change","sfdc_opportunity","sfdc_sao","sfdc_user","tmp_snowplow","usage_data","zuora_account","zuora_ar","zuora_invoice","zuora_product"],"_file_type":["model","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view"],"connection":"production_dw","include":"*.view.lkml","label":"finance","explore":{"bookings":{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},"invoicing":{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"},"_model":"finance"},"explores":[{"from":"sfdc_opportunity","label":"Bookings","description":"Bookings Metrics (ex: TCV, IACV)","always_filter":{"filters":[{"field":"isdeleted","value":"No","_type":"filters","_n":0,"_explore":"bookings","_model":"finance"},{"field":"sale_stage","value":"Closed Won","_type":"filters","_n":1,"_explore":"bookings","_model":"finance"},{"field":"subscription_type","value":"-Reseller","_type":"filters","_n":2,"_explore":"bookings","_model":"finance"}],"_type":"always_filter","_explore":"bookings","_model":"finance"},"_explore":"bookings","_type":"explore","_n":0,"_model":"finance"},{"view_label":"Invoicing","from":"zuora_ar","label":"A/R Aging","description":"A/R Oustanding","join":{"beyond_90days_open_invoices":{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"},"_explore":"invoicing","_model":"finance"},"joins":[{"fields":[],"view_label":"Invoicing","sql_on":"${invoicing.customer} = ${beyond_90days_open_invoices.name}\n          AND ${invoicing.day_range} = ${beyond_90days_open_invoices.day_range}","relationship":"many_to_one","_join":"beyond_90days_open_invoices","_type":"join","_n":0,"_explore":"invoicing","_model":"finance"}],"_explore":"invoicing","_type":"explore","_n":1,"_model":"finance"}],"_model":"finance","_type":"model","_n":0,"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}]},"looker_development":{"model":{"looker_development":{"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0}},"_file_path":["/Users/jacobschatz/projects/looker/looker_development.model.lkml","/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","/Users/jacobschatz/projects/looker/dim_account.view.lkml","/Users/jacobschatz/projects/looker/dim_date.view.lkml","/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","/Users/jacobschatz/projects/looker/usage_data.view.lkml","/Users/jacobschatz/projects/looker/zuora_account.view.lkml","/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","/Users/jacobschatz/projects/looker/zuora_product.view.lkml"],"_file_rel":["../../looker/looker_development.model.lkml","../../looker/beyond_90days_open_invoices.view.lkml","../../looker/dim_account.view.lkml","../../looker/dim_date.view.lkml","../../looker/dim_leadsource.view.lkml","../../looker/dim_opportunitystage.view.lkml","../../looker/f_acct_churn_history.view.lkml","../../looker/f_churn_history.view.lkml","../../looker/f_opportunity.view.lkml","../../looker/f_snapshot_opportunity.view.lkml","../../looker/pipeline_change.view.lkml","../../looker/sfdc_opportunity.view.lkml","../../looker/sfdc_sao.view.lkml","../../looker/sfdc_user.view.lkml","../../looker/tmp_snowplow.view.lkml","../../looker/usage_data.view.lkml","../../looker/zuora_account.view.lkml","../../looker/zuora_ar.view.lkml","../../looker/zuora_invoice.view.lkml","../../looker/zuora_product.view.lkml"],"_file_name":["looker_development","beyond_90days_open_invoices","dim_account","dim_date","dim_leadsource","dim_opportunitystage","f_acct_churn_history","f_churn_history","f_opportunity","f_snapshot_opportunity","pipeline_change","sfdc_opportunity","sfdc_sao","sfdc_user","tmp_snowplow","usage_data","zuora_account","zuora_ar","zuora_invoice","zuora_product"],"_file_type":["model","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view"],"connection":"production_dw","include":"*.view.lkml","explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},"sao":{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},"events":{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"},"_model":"looker_development"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},"sfdc_opportunity":{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"},"_explore":"f_opportunity","_model":"looker_development"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"looker_development"},{"view_label":"Dev Only - Raw SFDC Opportunity","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.opportunity_id} = ${sfdc_opportunity.id} ","_join":"sfdc_opportunity","_type":"join","_n":4,"_explore":"f_opportunity","_model":"looker_development"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"looker_development"},{"from":"sfdc_sao","label":"SAOs","description":"List of SAOs","_explore":"sao","_type":"explore","_n":1,"_model":"looker_development"},{"from":"events","label":"Snowplow Events","_explore":"events","_type":"explore","_n":2,"_model":"looker_development"}],"_model":"looker_development","_type":"model","_n":0,"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}]},"product":{"model":{"product":{"connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0}},"_file_path":"/Users/jacobschatz/projects/looker/product.model.lkml","_file_rel":"../../looker/product.model.lkml","_file_name":"product","_file_type":"model","connection":"production_dw","include":"usage_*.view.lkml","label":"product","explore":{"usage_data":{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"},"_model":"product"},"explores":[{"label":"Usage Data","description":"All dimensions are counts of that feature for a given instance.","_explore":"usage_data","_type":"explore","_n":0,"_model":"product"}],"_model":"product","_type":"model","_n":0},"sales":{"model":{"sales":{"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0}},"_file_path":["/Users/jacobschatz/projects/looker/sales.model.lkml","/Users/jacobschatz/projects/looker/beyond_90days_open_invoices.view.lkml","/Users/jacobschatz/projects/looker/dim_account.view.lkml","/Users/jacobschatz/projects/looker/dim_date.view.lkml","/Users/jacobschatz/projects/looker/dim_leadsource.view.lkml","/Users/jacobschatz/projects/looker/dim_opportunitystage.view.lkml","/Users/jacobschatz/projects/looker/f_acct_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_churn_history.view.lkml","/Users/jacobschatz/projects/looker/f_opportunity.view.lkml","/Users/jacobschatz/projects/looker/f_snapshot_opportunity.view.lkml","/Users/jacobschatz/projects/looker/pipeline_change.view.lkml","/Users/jacobschatz/projects/looker/sfdc_opportunity.view.lkml","/Users/jacobschatz/projects/looker/sfdc_sao.view.lkml","/Users/jacobschatz/projects/looker/sfdc_user.view.lkml","/Users/jacobschatz/projects/looker/tmp_snowplow.view.lkml","/Users/jacobschatz/projects/looker/usage_data.view.lkml","/Users/jacobschatz/projects/looker/zuora_account.view.lkml","/Users/jacobschatz/projects/looker/zuora_ar.view.lkml","/Users/jacobschatz/projects/looker/zuora_invoice.view.lkml","/Users/jacobschatz/projects/looker/zuora_product.view.lkml"],"_file_rel":["../../looker/sales.model.lkml","../../looker/beyond_90days_open_invoices.view.lkml","../../looker/dim_account.view.lkml","../../looker/dim_date.view.lkml","../../looker/dim_leadsource.view.lkml","../../looker/dim_opportunitystage.view.lkml","../../looker/f_acct_churn_history.view.lkml","../../looker/f_churn_history.view.lkml","../../looker/f_opportunity.view.lkml","../../looker/f_snapshot_opportunity.view.lkml","../../looker/pipeline_change.view.lkml","../../looker/sfdc_opportunity.view.lkml","../../looker/sfdc_sao.view.lkml","../../looker/sfdc_user.view.lkml","../../looker/tmp_snowplow.view.lkml","../../looker/usage_data.view.lkml","../../looker/zuora_account.view.lkml","../../looker/zuora_ar.view.lkml","../../looker/zuora_invoice.view.lkml","../../looker/zuora_product.view.lkml"],"_file_name":["sales","beyond_90days_open_invoices","dim_account","dim_date","dim_leadsource","dim_opportunitystage","f_acct_churn_history","f_churn_history","f_opportunity","f_snapshot_opportunity","pipeline_change","sfdc_opportunity","sfdc_sao","sfdc_user","tmp_snowplow","usage_data","zuora_account","zuora_ar","zuora_invoice","zuora_product"],"_file_type":["model","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view","view"],"connection":"production_dw","include":["*.view.lkml","*.dashboard.lookml"],"explore":{"f_opportunity":{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},"f_snapshot_opportunity":{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},"pipeline_change":{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},"f_churn_history":{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},"f_acct_churn_history":{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"},"_model":"sales"},"explores":[{"label":"Sales","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},"sfdc_user":{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"},"_explore":"f_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Users","type":"inner","relationship":"one_to_one","sql_on":"${f_opportunity.ownerid} = ${sfdc_user.id} ","_join":"sfdc_user","_type":"join","_n":3,"_explore":"f_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_opportunity.closedate_date}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":4,"_explore":"f_opportunity","_model":"sales"}],"_explore":"f_opportunity","_type":"explore","_n":0,"_model":"sales"},{"label":"Historical Opportunities","description":"Start here for questions around Sales data","view_label":"Opportunity","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_leadsource":{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},"dim_date":{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"},"_explore":"f_snapshot_opportunity","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.account_id} = ${dim_account.id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Lead Source","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.lead_source_id} = ${dim_leadsource.id} ","_join":"dim_leadsource","_type":"join","_n":1,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Opportunity Stage","type":"inner","relationship":"many_to_one","sql_on":"${f_snapshot_opportunity.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":2,"_explore":"f_snapshot_opportunity","_model":"sales"},{"view_label":"Close Date Info","type":"full_outer","relationship":"one_to_one","sql_on":"${f_snapshot_opportunity.opportunity_closedate}=${dim_date.date_actual_date} ","_join":"dim_date","_type":"join","_n":3,"_explore":"f_snapshot_opportunity","_model":"sales"}],"_explore":"f_snapshot_opportunity","_type":"explore","_n":1,"_model":"sales"},{"label":"Sales Pipeline Change","description":"Use this explore to look at the change in pipeline over time","conditionally_filter":{"filters":[{"field":"close_date","value":"this month","_type":"filters","_n":0,"_explore":"pipeline_change","_model":"sales"},{"field":"date_range","value":"7 days ago for 7 days","_type":"filters","_n":1,"_explore":"pipeline_change","_model":"sales"},{"field":"metric_type","value":"IACV","_type":"filters","_n":2,"_explore":"pipeline_change","_model":"sales"}],"_type":"conditionally_filter","_explore":"pipeline_change","_model":"sales"},"join":{"dim_opportunitystage":{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"},"_explore":"pipeline_change","_model":"sales"},"joins":[{"view_label":"Opportunity Stage","type":"inner","relationship":"one_to_one","sql_on":"${pipeline_change.opportunity_stage_id} = ${dim_opportunitystage.id} ","_join":"dim_opportunitystage","_type":"join","_n":0,"_explore":"pipeline_change","_model":"sales"}],"_explore":"pipeline_change","_type":"explore","_n":2,"_model":"sales"},{"label":"Parent Account Churn History","description":"Use this explore to look at parent subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"},"_explore":"f_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_churn_history","_model":"sales"}],"_explore":"f_churn_history","_type":"explore","_n":3,"_model":"sales"},{"label":"Child Account Churn History","description":"Use this explore to look at child subscription churn","join":{"dim_account":{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"},"_explore":"f_acct_churn_history","_model":"sales"},"joins":[{"view_label":"Account","type":"inner","relationship":"many_to_one","sql_on":"${f_acct_churn_history.id} = ${dim_account.sfdc_account_id} ","_join":"dim_account","_type":"join","_n":0,"_explore":"f_acct_churn_history","_model":"sales"}],"_explore":"f_acct_churn_history","_type":"explore","_n":4,"_model":"sales"}],"_model":"sales","_type":"model","_n":0,"view":{"beyond_90days_open_invoices":{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},"dim_account":{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},"dim_date":{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},"dim_leadsource":{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},"dim_opportunitystage":{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},"f_acct_churn_history":{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},"f_churn_history":{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},"f_opportunity":{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},"f_snapshot_opportunity":{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},"pipeline_change":{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},"sfdc_opportunity":{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},"sfdc_sao":{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},"sfdc_user":{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},"events":{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},"usage_data":{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},"zuora_account":{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},"zuora_ar":{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},"zuora_invoice":{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},"zuora_product":{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}},"views":[{"derived_table":{"sql":"with oi as\n        (Select zuora_account.name,\n             CASE\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                      WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                      ELSE 'Unknown'\n                    END AS day_range,\n                    string_agg(zuora_invoice.invoicenumber, ', ') over (partition by zuora_account.name) as openinvoices\n        from zuora.invoice as zuora_invoice\n        inner join zuora.account as zuora_account\n          on zuora_invoice.accountid = zuora_account.id\n        where (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91\n        --group by  zuora_account.name,day_range,invoice\n      )\n      Select oi.name,day_range ,max(oi.openinvoices) as list_of_open_invoices from oi\n      group by oi.name, day_range\n       ","_type":"derived_table","_view":"beyond_90days_open_invoices"},"dimension":{"name":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},"day_range":{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},"list_of_open_invoices":{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"},"_view":"beyond_90days_open_invoices"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"beyond_90days_open_invoices"},{"hidden":true,"type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":1,"_view":"beyond_90days_open_invoices"},{"type":"string","sql":"${TABLE}.list_of_open_invoices ","_dimension":"list_of_open_invoices","_type":"dimension","_n":2,"_view":"beyond_90days_open_invoices"}],"_view":"beyond_90days_open_invoices","_type":"view","_n":0},{"sql_table_name":"analytics.dim_account ","label":"Salesforce Account","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},"industry":{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},"is_lau":{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},"name":{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},"sales_segmentation":{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},"sfdc_account_id":{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},"type":{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},"ultimate_parent_name":{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},"ultimate_parent_sales_segmentation":{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"},"_view":"dim_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_account"},{"label":"Industry","type":"string","sql":"${TABLE}.industry ","_dimension":"industry","_type":"dimension","_n":1,"_view":"dim_account"},{"label":"Is Large & Up?","type":"yesno","sql":"${TABLE}.is_lau ","_dimension":"is_lau","_type":"dimension","_n":2,"_view":"dim_account"},{"description":"The Name of the Salesforce Account.","type":"string","sql":"${TABLE}.name ","link":{"label":"Salesforce Account","url":"https://na34.salesforce.com/{{ dim_account.sfdc_account_id }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"name","_view":"dim_account"},"_dimension":"name","_type":"dimension","_n":3,"_view":"dim_account"},{"type":"string","description":"The Sales Segmentation for this account.","sql":"${TABLE}.sales_segmentation ","_dimension":"sales_segmentation","_type":"dimension","_n":4,"_view":"dim_account"},{"description":"This is the Salesforce account Id.","hidden":true,"type":"string","sql":"${TABLE}.sfdc_account_id ","_dimension":"sfdc_account_id","_type":"dimension","_n":5,"_view":"dim_account"},{"type":"string","label":"Account Type","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":6,"_view":"dim_account"},{"label":"Ultimate Parent Name","type":"string","sql":"${TABLE}.ultimate_parent_name ","_dimension":"ultimate_parent_name","_type":"dimension","_n":7,"_view":"dim_account"},{"label":"Ultimate Parent Sales Segmentation","type":"string","sql":"${TABLE}.ultimate_parent_sales_segmentation ","_dimension":"ultimate_parent_sales_segmentation","_type":"dimension","_n":8,"_view":"dim_account"}],"measure":{"count":{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"},"_view":"dim_account"},"measures":[{"type":"count","drill_fields":["id*","ultimate_parent_name*","name*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_account"}],"_view":"dim_account","_type":"view","_n":0},{"label":"Date Expansion","sql_table_name":"analytics.dim_date ","dimension_group":{"date_actual":{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"},"_view":"dim_date"},"dimension_groups":[{"label":"Actual","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.date_actual ","_dimension_group":"date_actual","_type":"dimension_group","_n":0,"_view":"dim_date"}],"dimension":{"date_dim_id":{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},"day_of_quarter":{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"},"_view":"dim_date"},"dimensions":[{"hidden":true,"type":"number","sql":"${TABLE}.date_dim_id ","_dimension":"date_dim_id","_type":"dimension","_n":0,"_view":"dim_date"},{"type":"number","sql":"${TABLE}.day_of_quarter ","_dimension":"day_of_quarter","_type":"dimension","_n":1,"_view":"dim_date"}],"_view":"dim_date","_type":"view","_n":0},{"sql_table_name":"analytics.dim_leadsource ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},"initial_source":{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},"initial_source_type":{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source","sql":"${TABLE}.initial_source ","_dimension":"initial_source","_type":"dimension","_n":1,"_view":"dim_leadsource"},{"type":"string","label":"Initial Source Type","sql":"${TABLE}.initial_source_type ","_dimension":"initial_source_type","_type":"dimension","_n":2,"_view":"dim_leadsource"}],"measure":{"count":{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"},"_view":"dim_leadsource"},"measures":[{"type":"count","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"dim_leadsource"}],"_view":"dim_leadsource","_type":"view","_n":0},{"sql_table_name":"analytics.dim_opportunitystage ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},"apiname":{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},"createdbyid":{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},"defaultprobability":{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},"isclosed":{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},"iswon":{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},"lastmodifiedbyid":{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},"masterlabel":{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},"mapped_stage":{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},"sfdc_id":{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},"sortorder":{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},"systemmodstamp":{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimensions":[{"primary_key":true,"hidden":true,"type":"number","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"dim_opportunitystage"},{"label":"API Name","type":"string","sql":"${TABLE}.apiname ","_dimension":"apiname","_type":"dimension","_n":1,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.createdbyid ","_dimension":"createdbyid","_type":"dimension","_n":2,"_view":"dim_opportunitystage"},{"label":"Default Probability","type":"number","sql":"${TABLE}.defaultprobability ","_dimension":"defaultprobability","_type":"dimension","_n":3,"_view":"dim_opportunitystage"},{"label":"Is Closed","type":"yesno","sql":"${TABLE}.isclosed ","_dimension":"isclosed","_type":"dimension","_n":4,"_view":"dim_opportunitystage"},{"label":"Is Won","type":"yesno","sql":"${TABLE}.iswon ","_dimension":"iswon","_type":"dimension","_n":5,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.lastmodifiedbyid ","_dimension":"lastmodifiedbyid","_type":"dimension","_n":6,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.masterlabel ","_dimension":"masterlabel","_type":"dimension","_n":7,"_view":"dim_opportunitystage"},{"full_suggestions":true,"label":"Stage Name","type":"string","sql":"${TABLE}.mapped_stage ","_dimension":"mapped_stage","_type":"dimension","_n":8,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.sfdc_id ","_dimension":"sfdc_id","_type":"dimension","_n":9,"_view":"dim_opportunitystage"},{"label":"Sort Order","type":"number","sql":"${TABLE}.sortorder ","_dimension":"sortorder","_type":"dimension","_n":10,"_view":"dim_opportunitystage"},{"hidden":true,"type":"string","sql":"${TABLE}.systemmodstamp ","_dimension":"systemmodstamp","_type":"dimension","_n":11,"_view":"dim_opportunitystage"}],"dimension_group":{"createddate":{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},"lastmodifieddate":{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"},"_view":"dim_opportunitystage"},"dimension_groups":[{"label":"Created","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.createddate ","_dimension_group":"createddate","_type":"dimension_group","_n":0,"_view":"dim_opportunitystage"},{"label":"Last Modified","type":"time","timeframes":["raw*","time*","date*","week*","month*","quarter*","year*"],"sql":"${TABLE}.lastmodifieddate ","_dimension_group":"lastmodifieddate","_type":"dimension_group","_n":1,"_view":"dim_opportunitystage"}],"_view":"dim_opportunitystage","_type":"view","_n":0},{"sql_table_name":"analytics.f_acct_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_acct_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_acct_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_acct_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_acct_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_acct_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_acct_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_acct_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_acct_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_acct_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_acct_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_acct_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_acct_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_acct_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_acct_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"},"_view":"f_acct_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_acct_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_acct_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_acct_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_acct_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_acct_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_acct_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_acct_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_acct_churn_history"}],"_view":"f_acct_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_churn_history ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},"change":{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},"account_band":{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},"retention_type":{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},"current_arr":{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},"current_mrr":{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},"current_total":{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},"current_trueup":{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},"period":{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},"year_ago_arr":{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},"year_ago_mrr":{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},"year_ago_total":{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},"year_ago_trueup":{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"f_churn_history"},{"type":"number","hidden":true,"sql":"${TABLE}.change ","_dimension":"change","_type":"dimension","_n":1,"_view":"f_churn_history"},{"label":"Account ACV Band","case":{"when":[{"sql":"${year_ago_total} <5000 ","label":"1. Under $5k","_type":"when","_n":0,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 5000 AND ${year_ago_total} <50000 ","label":"2. $5k-$50k","_type":"when","_n":1,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 50000 AND ${year_ago_total} <100000  ","label":"3. $50k-$100k","_type":"when","_n":2,"_dimension":"account_band","_view":"f_churn_history"},{"sql":"${year_ago_total} >= 100000  ","label":"4. $100k and above","_type":"when","_n":3,"_dimension":"account_band","_view":"f_churn_history"}],"else":"Unknown","_type":"case","_dimension":"account_band","_view":"f_churn_history"},"_dimension":"account_band","_type":"dimension","_n":2,"_view":"f_churn_history"},{"label":"Retention Type","case":{"when":[{"sql":"${current_total} = 0 AND ${year_ago_total} >0 ","label":"Cancellation","_type":"when","_n":0,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} < ${year_ago_total} AND ${current_total} <> 0 ","label":"Downgrade","_type":"when","_n":1,"_dimension":"retention_type","_view":"f_churn_history"},{"sql":"${current_total} > ${year_ago_total} ","label":"Upgrade","_type":"when","_n":2,"_dimension":"retention_type","_view":"f_churn_history"}],"else":"Retention","_type":"case","_dimension":"retention_type","_view":"f_churn_history"},"_dimension":"retention_type","_type":"dimension","_n":3,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_arr ","_dimension":"current_arr","_type":"dimension","_n":4,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_mrr ","_dimension":"current_mrr","_type":"dimension","_n":5,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_total ","_dimension":"current_total","_type":"dimension","_n":6,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.current_trueup ","_dimension":"current_trueup","_type":"dimension","_n":7,"_view":"f_churn_history"},{"type":"string","sql":"${TABLE}.period ","_dimension":"period","_type":"dimension","_n":8,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_arr ","_dimension":"year_ago_arr","_type":"dimension","_n":9,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_mrr ","_dimension":"year_ago_mrr","_type":"dimension","_n":10,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_total ","_dimension":"year_ago_total","_type":"dimension","_n":11,"_view":"f_churn_history"},{"type":"number","sql":"${TABLE}.year_ago_trueup ","_dimension":"year_ago_trueup","_type":"dimension","_n":12,"_view":"f_churn_history"}],"dimension_group":{"curr_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},"curr_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},"year_ago_end":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},"year_ago_start":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"},"_view":"f_churn_history"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_end_date ","_dimension_group":"curr_end","_type":"dimension_group","_n":0,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.curr_start_date ","_dimension_group":"curr_start","_type":"dimension_group","_n":1,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_end_date ","_dimension_group":"year_ago_end","_type":"dimension_group","_n":2,"_view":"f_churn_history"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.year_ago_start_date ","_dimension_group":"year_ago_start","_type":"dimension_group","_n":3,"_view":"f_churn_history"}],"measure":{"count":{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},"arr_year_ago":{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},"total_year_ago":{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},"total_current":{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},"least_arr":{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},"delta":{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},"net_retention":{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},"gross_retention":{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"},"_view":"f_churn_history"},"measures":[{"type":"count_distinct","drill_fields":["id*"],"_measure":"count","_type":"measure","_n":0,"_view":"f_churn_history"},{"label":"Year Ago ARR","type":"sum","sql":"${year_ago_arr} ","_measure":"arr_year_ago","_type":"measure","_n":1,"_view":"f_churn_history"},{"label":"Year Ago Total","type":"sum","sql":"${year_ago_total} ","_measure":"total_year_ago","_type":"measure","_n":2,"_view":"f_churn_history"},{"label":"Current Total","type":"sum","sql":"${current_total} ","_measure":"total_current","_type":"measure","_n":3,"_view":"f_churn_history"},{"label":"Least ARR","hidden":true,"type":"sum","sql":"CASE WHEN ${current_total} < ${year_ago_total} THEN ${current_total} ELSE ${year_ago_total} END ","_measure":"least_arr","_type":"measure","_n":4,"_view":"f_churn_history"},{"label":"Change from Year Ago","type":"sum","sql":"${TABLE}.change ","_measure":"delta","_type":"measure","_n":5,"_view":"f_churn_history"},{"label":"Net Retention","type":"number","value_format":"#.00%","sql":"100 * ${total_current}/NULLIF(${total_year_ago},0) ","_measure":"net_retention","_type":"measure","_n":6,"_view":"f_churn_history"},{"label":"Gross Retention","type":"number","value_format":"#.00%","sql":"100 * ${least_arr}/NULLIF(${total_year_ago},0) ","_measure":"gross_retention","_type":"measure","_n":7,"_view":"f_churn_history"}],"_view":"f_churn_history","_type":"view","_n":0},{"sql_table_name":"analytics.f_opportunity ","dimension":{"account_id":{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},"ownerid":{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},"days_in_stage":{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},"risk_level":{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},"last_activity":{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},"billing_period":{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},"iacv":{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},"lead_source_id":{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},"opportunity_id":{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},"opportunity_name":{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},"opportunity_product":{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},"opportunity_sales_segmentation":{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},"opportunity_stage_id":{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},"opportunity_type":{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},"quantity":{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},"renewal_acv":{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},"sales_qualified_source":{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},"tcv":{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimensions":[{"description":"This is the foreign key to dim_account","hidden":true,"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":1,"_view":"f_opportunity"},{"hidden":true,"type":"string","sql":"${TABLE}.ownerid ","_dimension":"ownerid","_type":"dimension","_n":2,"_view":"f_opportunity"},{"type":"number","sql":"${TABLE}.days_in_stage ","_dimension":"days_in_stage","_type":"dimension","_n":3,"_view":"f_opportunity"},{"label":"Is Risky","type":"yesno","sql":"${TABLE}.is_risky ","_dimension":"risk_level","_type":"dimension","_n":4,"_view":"f_opportunity"},{"type":"date","sql":"${TABLE}.lastactivitydate ","_dimension":"last_activity","_type":"dimension","_n":5,"_view":"f_opportunity"},{"type":"string","sql":"${TABLE}.billing_period ","_dimension":"billing_period","_type":"dimension","_n":6,"_view":"f_opportunity"},{"type":"number","hidden":true,"sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":7,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":8,"_view":"f_opportunity"},{"label":"SFDC Opportunity ID","description":"The 18 char SFDC Opportunity ID","type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":9,"_view":"f_opportunity"},{"label":"SFDC Opportunity Name","description":"The name of the opportunity record from Salesforce.","type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ f_opportunity.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"f_opportunity"},"_dimension":"opportunity_name","_type":"dimension","_n":10,"_view":"f_opportunity"},{"label":"Product Name","type":"string","sql":"${TABLE}.opportunity_product ","_dimension":"opportunity_product","_type":"dimension","_n":11,"_view":"f_opportunity"},{"label":"Opportunity Sales Segmentation","type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":12,"_view":"f_opportunity"},{"description":"The foreign key to dim_opportunitystage","hidden":true,"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":13,"_view":"f_opportunity"},{"label":"Opportunity Type","description":"The SFDC opportunity type (New, Renewal,Add-On Business)","type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":14,"_view":"f_opportunity"},{"label":"Product Quantity","type":"number","sql":"${TABLE}.quantity ","_dimension":"quantity","_type":"dimension","_n":15,"_view":"f_opportunity"},{"hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":16,"_view":"f_opportunity"},{"description":"Sales Qualified Source","type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":17,"_view":"f_opportunity"},{"label":"Total Contract Value","hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":18,"_view":"f_opportunity"}],"dimension_group":{"closedate":{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},"sales_accepted":{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},"sales_qualified":{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"},"_view":"f_opportunity"},"dimension_groups":[{"label":"Opportunity Close","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.opportunity_closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"f_opportunity"},{"label":"Sales Accepted","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":1,"_view":"f_opportunity"},{"label":"Sales Qualified","type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":2,"_view":"f_opportunity"}],"measure":{"number_of_opportunities":{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},"total_tcv":{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},"total_acv":{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},"total_iacv":{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},"weighted_iacv":{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},"total_sqos":{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},"total_saos":{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},"total_sao_iacv":{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},"total_sqo_iacv":{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},"opp_renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},"total_quantity":{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"},"_view":"f_opportunity"},"measures":[{"label":"Count of Opportunities","type":"count_distinct","sql":"${opportunity_id} ","drill_fields":["detail*"],"_measure":"number_of_opportunities","_type":"measure","_n":0,"_view":"f_opportunity"},{"label":"Total Contract Value (TCV)","type":"sum","sql":"${tcv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":1,"_view":"f_opportunity"},{"label":"Total Annual Contract Value (ACV)","type":"sum","sql":"${acv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":2,"_view":"f_opportunity"},{"label":"Total Incremental Annual Contract Value (IACV)","type":"sum","sql":"${iacv} ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":3,"_view":"f_opportunity"},{"label":"Total Weighted IACV","type":"sum","sql":"${iacv}* (${dim_opportunitystage.defaultprobability}/100) ","_measure":"weighted_iacv","_type":"measure","_n":4,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunities (SQOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqos","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqos","_type":"measure","_n":5,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunities (SAOs)","type":"count_distinct","sql":"${opportunity_id} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_saos","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_saos","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_saos","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_saos","_type":"measure","_n":6,"_view":"f_opportunity"},{"label":"Total Sales Accepted Opportunity (SAO) IACV","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sao_iacv","_view":"f_opportunity"},{"field":"sales_accepted_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sao_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sao_iacv","_type":"measure","_n":7,"_view":"f_opportunity"},{"label":"Total Sales Qualified Opportunity (SQO) IACV ","type":"sum","sql":"${iacv} ","filters":[{"field":"dim_leadsource.initial_source","value":"-Web Direct","_type":"filters","_n":0,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"iacv","value":">=0","_type":"filters","_n":1,"_measure":"total_sqo_iacv","_view":"f_opportunity"},{"field":"sales_qualified_date","value":"-NULL","_type":"filters","_n":2,"_measure":"total_sqo_iacv","_view":"f_opportunity"}],"drill_fields":["detail*"],"_measure":"total_sqo_iacv","_type":"measure","_n":8,"_view":"f_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","drill_fields":["detail*"],"value_format_name":"usd","_measure":"opp_renewal_acv","_type":"measure","_n":9,"_view":"f_opportunity"},{"label":"Total Quantity","type":"sum","sql":"${quantity} ","drill_fields":["detail*"],"_measure":"total_quantity","_type":"measure","_n":10,"_view":"f_opportunity"}],"set":{"detail":{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"},"_view":"f_opportunity"},"sets":[{"fields":["dim_account.name*","opportunity_name*","opportunity_sales_segmentation*","opportunity_type*","closedate_date*","total_iacv*","total_acv*"],"_set":"detail","_type":"set","_n":0,"_view":"f_opportunity"}],"_view":"f_opportunity","_type":"view","_n":0},{"label":"Historical Opportunity Snapshots","derived_table":{"sql":"SELECT *\n    FROM analytics.f_snapshot_opportunity s\n    JOIN analytics.dim_date d on s.snapshot_date = d.date_actual\n    WHERE d.{% parameter.agg_span %} = 1\n    ","_type":"derived_table","_view":"f_snapshot_opportunity"},"dimension":{"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},"opportunity_closedate":{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},"renewal_acv":{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},"snapshot":{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimensions":[{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":0,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Close Date","type":"date","sql":"${TABLE}.opportunity_closedate ","_dimension":"opportunity_closedate","_type":"dimension","_n":2,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":3,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_name ","_dimension":"opportunity_name","_type":"dimension","_n":4,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":5,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":6,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":7,"_view":"f_snapshot_opportunity"},{"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":8,"_view":"f_snapshot_opportunity"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":9,"_view":"f_snapshot_opportunity"},{"label":"Snapshot Date","type":"date","allow_fill":false,"sql":"${TABLE}.date_actual ","_dimension":"snapshot","_type":"dimension","_n":10,"_view":"f_snapshot_opportunity"}],"measure":{"total_acv":{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},"total_iacv":{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},"total_renewal_acv":{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},"total_tcv":{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},"count":{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"measures":[{"label":"Total ACV","type":"sum","sql":"${TABLE}.acv","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":0,"_view":"f_snapshot_opportunity"},{"label":"Total IACV","type":"sum","sql":"${TABLE}.iacv ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":1,"_view":"f_snapshot_opportunity"},{"label":"Total Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":2,"_view":"f_snapshot_opportunity"},{"label":"Total TCV","type":"sum","sql":"${TABLE}.tcv ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":3,"_view":"f_snapshot_opportunity"},{"type":"count","drill_fields":["opportunity_name*"],"_measure":"count","_type":"measure","_n":4,"_view":"f_snapshot_opportunity"}],"parameter":{"agg_span":{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"parameters":[{"label":"Time Grouping","description":"Choose which snapshot range to view by","allowed_value":[{"label":"Weekly","value":"day_of_week","_type":"allowed_value","_n":0,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Monthly","value":"day_of_month","_type":"allowed_value","_n":1,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Quarterly","value":"day_of_quarter","_type":"allowed_value","_n":2,"_parameter":"agg_span","_view":"f_snapshot_opportunity"},{"label":"Yearly","value":"day_of_year","_type":"allowed_value","_n":3,"_parameter":"agg_span","_view":"f_snapshot_opportunity"}],"default_value":"day_of_month","type":"unquoted","_parameter":"agg_span","_type":"parameter","_n":0,"_view":"f_snapshot_opportunity"}],"dimension_group":{"sales_accepted":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},"sales_qualified":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"},"_view":"f_snapshot_opportunity"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":0,"_view":"f_snapshot_opportunity"},{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"f_snapshot_opportunity"}],"_view":"f_snapshot_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"WITH NEW AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage s ON a.opportunity_stage_id=s.id\n         WHERE date(snapshot_date) = {% date_end date_range %}\n          AND s.mapped_stage != 'Unmapped'),\n\n         OLD AS\n        (SELECT *\n         FROM analytics.f_snapshot_opportunity a\n         INNER JOIN dim_opportunitystage os ON a.opportunity_stage_id=os.id\n         WHERE date(snapshot_date) = {% date_start date_range %}\n          AND os.mapped_stage != 'Unmapped')\n\n      SELECT\n        'Starting' AS category,\n        '1' AS order,\n        OLD.*\n      FROM OLD\n      JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE (OLD.sales_accepted_date < {% date_start date_range %}\n            OR old.sales_accepted_date ISNULL\n            OR old.opportunity_closedate= {% date_start date_range %})\n        AND {% condition close_date %} opportunity_closedate {% endcondition %}\n        AND os.isclosed=FALSE\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Created' as category ,\n        '2' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      WHERE NEW.sales_accepted_date >= {% date_start date_range %}\n        AND NEW.sales_accepted_date <= {% date_end date_range %}\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND (\n              s.isclosed=false\n              OR\n              (s.isclosed=true AND s.iswon = true)\n            )\n\n      UNION ALL\n  -- For opps that show up w/o a sales_accepted_date and aren't in the OLD list\n      SELECT\n        'Created' As category ,\n        '2' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON NEW.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.sales_accepted_date ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n        AND\n            (\n              (OLD.opportunity_name ISNULL AND (os.mapped_stage != '0-Pending Acceptance' OR os.mapped_stage ISNULL) AND s.isclosed=false)\n              OR\n              (os.mapped_stage = '0-Pending Acceptance' AND s.isclosed=true)\n              OR\n              (os.mapped_stage= '0-Pending Acceptance' AND s.mapped_stage\n                  IN ('1-Discovery','2-Scoping','3-Technical Evaluation','4-Propoasl','5-Negotiating','6-Awaiting Signature'))\n              OR\n              (OLD.opportunity_name ISNULL and s.isclosed=true AND s.iswon=true)\n              OR\n              (NEW.opportunity_closedate = {% date_start date_range %} and s.isclosed=true AND s.iswon=true)\n            )\n\n      UNION ALL\n\n      SELECT\n        'Moved In' AS category,\n        '3' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON OLD.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate < {% date_start close_date %}\n        OR OLD.opportunity_closedate >= {% date_end close_date %} )\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Increased' AS category,\n        '4' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv > old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Decreased' AS category,\n        '6' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os on old.opportunity_stage_id=os.id\n      WHERE ( OLD.opportunity_closedate >= {% date_start close_date %}\n        AND OLD.opportunity_closedate < {% date_end close_date %})\n        AND {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND NEW.iacv < old.iacv\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n        'Moved Out' AS category,\n        '5' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE ( NEW.opportunity_closedate < {% date_start close_date %}\n        OR NEW.opportunity_closedate >= {% date_end close_date %})\n        AND {% condition close_date %} OLD.opportunity_closedate {% endcondition %}\n        AND os.isclosed=false\n        AND os.mapped_stage != '0-Pending Acceptance'\n\n      UNION ALL\n\n      SELECT\n          'Won' AS category,\n          '7' AS order,\n          NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      FULL JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      FULL JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=true\n        AND (os.IsClosed=false OR NEW.opportunity_closedate = {% date_start date_range %})\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n        -- This is for opps that are won but don't show up in the old list\n      SELECT\n        'Won' AS category,\n        '7' AS order,\n        NEW.*\n      FROM NEW\n      FULL JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.iswon = true\n        AND OLD.opportunity_name ISNULL\n        AND NEW.opportunity_closedate >= {% date_start date_range %}\n\n      UNION ALL\n\n      SELECT\n        'Lost' AS category,\n        '8' AS order,\n        NEW.*\n      FROM NEW\n      INNER JOIN OLD ON OLD.opportunity_id=NEW.opportunity_id\n      INNER JOIN dim_opportunitystage s ON new.opportunity_stage_id=s.id\n      INNER JOIN dim_opportunitystage os ON old.opportunity_stage_id=os.id\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.IsWon=false\n        AND s.IsClosed=true\n        AND os.IsClosed=false\n        AND os.id != '33' --duplicates\n\n      UNION ALL\n\n       SELECT\n        'Ending' as category,\n        '9' as order,\n        NEW.*\n      FROM NEW\n      INNER JOIN dim_opportunitystage s ON NEW.opportunity_stage_id = s.id\n--       AND opportunity_closedate >= {% date_start close_date %}\n--      AND opportunity_closedate < {% date_end close_date %}\n      WHERE {% condition close_date %} NEW.opportunity_closedate {% endcondition %}\n        AND s.isclosed=FALSE\n        ANd s.mapped_stage != '0-Pending Acceptance'\n       ","_type":"derived_table","_view":"pipeline_change"},"filter":{"date_range":{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},"close_date":{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"},"_view":"pipeline_change"},"filters":[{"convert_tz":false,"type":"date","_filter":"date_range","_type":"filter","_n":0,"_view":"pipeline_change"},{"convert_tz":false,"type":"date","_filter":"close_date","_type":"filter","_n":1,"_view":"pipeline_change"}],"dimension":{"category":{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},"order":{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},"opportunity_id":{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},"account_id":{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},"opportunity_stage_id":{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},"lead_source_id":{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},"opportunity_type":{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},"opportunity_sales_segmentation":{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},"sales_qualified_source":{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},"opportunity_name":{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},"iacv":{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},"renewal_acv":{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},"acv":{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},"tcv":{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimensions":[{"type":"string","sql":"${TABLE}.category ","order_by_field":"order","link":{"label":"Explore from here","url":"https://gitlab.looker.com/explore/sales/pipeline_change?f[pipeline_change.category]={{ pipeline_change.category }}&f[pipeline_change.close_date]={{ _filters['pipeline_change.close_date'] | url_encode }}&f[pipeline_change.date_range]={{ _filters['pipeline_change.date_range'] | url_encode }}&f[pipeline_change.metric_type]={{ _filters['pipeline_change.metric_type'] | url_encode }}&fields=pipeline_change.opportunity_name,pipeline_change.opportunity_type,dim_opportunitystage.mapped_stage,pipeline_change.iacv","_type":"link","_dimension":"category","_view":"pipeline_change"},"_dimension":"category","_type":"dimension","_n":0,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.order ","_dimension":"order","_type":"dimension","_n":1,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_id ","_dimension":"opportunity_id","_type":"dimension","_n":2,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.account_id ","_dimension":"account_id","_type":"dimension","_n":3,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.opportunity_stage_id ","_dimension":"opportunity_stage_id","_type":"dimension","_n":4,"_view":"pipeline_change"},{"type":"number","sql":"${TABLE}.lead_source_id ","_dimension":"lead_source_id","_type":"dimension","_n":5,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_type ","_dimension":"opportunity_type","_type":"dimension","_n":6,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_sales_segmentation ","_dimension":"opportunity_sales_segmentation","_type":"dimension","_n":7,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.sales_qualified_source ","_dimension":"sales_qualified_source","_type":"dimension","_n":8,"_view":"pipeline_change"},{"type":"string","sql":"${TABLE}.opportunity_name ","link":{"label":"Salesforce Opportunity","url":"https://na34.salesforce.com/{{ pipeline_change.opportunity_id._value }}","icon_url":"https://c1.sfdcstatic.com/etc/designs/sfdc-www/en_us/favicon.ico","_type":"link","_dimension":"opportunity_name","_view":"pipeline_change"},"_dimension":"opportunity_name","_type":"dimension","_n":9,"_view":"pipeline_change"},{"label":"IACV","hidden":true,"type":"number","sql":"${TABLE}.iacv ","_dimension":"iacv","_type":"dimension","_n":10,"_view":"pipeline_change"},{"label":"Renewal ACV","hidden":true,"type":"number","sql":"${TABLE}.renewal_acv ","_dimension":"renewal_acv","_type":"dimension","_n":11,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.acv ","_dimension":"acv","_type":"dimension","_n":12,"_view":"pipeline_change"},{"hidden":true,"type":"number","sql":"${TABLE}.tcv ","_dimension":"tcv","_type":"dimension","_n":13,"_view":"pipeline_change"}],"dimension_group":{"snapshot":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},"sales_qualified":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},"sales_accepted":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},"opportunity_close":{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"},"_view":"pipeline_change"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.snapshot_date ","_dimension_group":"snapshot","_type":"dimension_group","_n":0,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_qualified_date ","_dimension_group":"sales_qualified","_type":"dimension_group","_n":1,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted","_type":"dimension_group","_n":2,"_view":"pipeline_change"},{"type":"time","timeframes":["raw*","date*"],"sql":"${TABLE}.opportunity_closedate ","_dimension_group":"opportunity_close","_type":"dimension_group","_n":3,"_view":"pipeline_change"}],"parameter":{"metric_type":{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"parameters":[{"description":"Choose which ACV type to measure","allowed_value":[{"value":"ACV","_type":"allowed_value","_n":0,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"IACV","_type":"allowed_value","_n":1,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"Renewal ACV","_type":"allowed_value","_n":2,"_parameter":"metric_type","_view":"pipeline_change"},{"value":"TCV","_type":"allowed_value","_n":3,"_parameter":"metric_type","_view":"pipeline_change"}],"default_value":"IACV","_parameter":"metric_type","_type":"parameter","_n":0,"_view":"pipeline_change"}],"measure":{"acv_metric":{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},"total_acv":{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},"total_iacv":{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},"total_renewal_acv":{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},"total_tcv":{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},"count":{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"},"_view":"pipeline_change"},"measures":[{"label":"ACV Metric","description":"use the metric type filter to choose which ACV to measure","type":"number","sql":"CASE\n          WHEN {% parameter metric_type %} = 'ACV' THEN ${total_acv}\n          WHEN {% parameter metric_type %} = 'IACV' THEN ${total_iacv}\n          WHEN {% parameter metric_type %} = 'Renewal ACV' THEN ${total_renewal_acv}\n          WHEN {% parameter metric_type %} = 'TCV' THEN ${total_tcv}\n        END ","label_from_parameter":"metric_type","value_format_name":"usd","drill_fields":["detail*"],"_measure":"acv_metric","_type":"measure","_n":0,"_view":"pipeline_change"},{"hidden":true,"label":"Total ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${acv}\n        END ","value_format_name":"usd","_measure":"total_acv","_type":"measure","_n":1,"_view":"pipeline_change"},{"hidden":true,"label":"Total IACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${iacv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${iacv}\n        END ","value_format_name":"usd","_measure":"total_iacv","_type":"measure","_n":2,"_view":"pipeline_change"},{"hidden":true,"label":"Total Renewal ACV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${renewal_acv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${renewal_acv}\n        END ","value_format_name":"usd","_measure":"total_renewal_acv","_type":"measure","_n":3,"_view":"pipeline_change"},{"hidden":true,"label":"Total TCV","type":"sum","sql":"CASE\n          WHEN ${category} IN ('Starting', 'Created', 'Moved In', 'Increased', 'Ending') THEN ${tcv}\n          WHEN ${category} IN ('Moved Out', 'Decreased', 'Won', 'Lost') THEN -1.0*${tcv}\n        END ","value_format_name":"usd","_measure":"total_tcv","_type":"measure","_n":4,"_view":"pipeline_change"},{"type":"count","_measure":"count","_type":"measure","_n":5,"_view":"pipeline_change"}],"set":{"detail":{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"},"_view":"pipeline_change"},"sets":[{"fields":[],"_set":"detail","_type":"set","_n":0,"_view":"pipeline_change"}],"_view":"pipeline_change","_type":"view","_n":0},{"sql_table_name":"sfdc.opportunity","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},"isdeleted":{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},"subscription_type":{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},"sale_stage":{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},"sale_type":{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},"products":{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_opportunity"},{"label":"Is Deleted","description":"Filter out corrupt data","type":"yesno","sql":"${TABLE}.isdeleted ","_dimension":"isdeleted","_type":"dimension","_n":1,"_view":"sfdc_opportunity"},{"description":"Sale type based on subscription","type":"string","sql":"${TABLE}.TYPE ","_dimension":"subscription_type","_type":"dimension","_n":2,"_view":"sfdc_opportunity"},{"description":"Stage in which a sale is in","type":"string","sql":"${TABLE}.stagename ","_dimension":"sale_stage","_type":"dimension","_n":3,"_view":"sfdc_opportunity"},{"description":"Sales assisted or web direct sale","type":"string","sql":"${TABLE}.engagement_type__c ","_dimension":"sale_type","_type":"dimension","_n":4,"_view":"sfdc_opportunity"},{"description":"Product that is tied to opportunity","type":"string","sql":"${TABLE}.products_purchased__c ","_dimension":"products","_type":"dimension","_n":5,"_view":"sfdc_opportunity"}],"dimension_group":{"closedate":{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"dimension_groups":[{"description":"The date when an opportunity was closed","label":"Close","type":"time","convert_tz":false,"timeframes":["date*","week*","month*","year*"],"sql":"${TABLE}.closedate ","_dimension_group":"closedate","_type":"dimension_group","_n":0,"_view":"sfdc_opportunity"}],"measure":{"tcv":{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},"renewal_amt":{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},"renewal_acv":{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},"acv":{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},"iacv":{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},"nrv":{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"},"_view":"sfdc_opportunity"},"measures":[{"label":"TCV - Total Contract Value","type":"sum","sql":"${TABLE}.amount ","value_format":"$#,##0","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_opportunity"},{"description":"Renewal Amount","type":"sum","sql":"${TABLE}.renewal_amount__c ","value_format":"$#,##0","_measure":"renewal_amt","_type":"measure","_n":1,"_view":"sfdc_opportunity"},{"label":"Renewal ACV","type":"sum","sql":"${TABLE}.renewal_acv__c ","value_format":"$#,##0","_measure":"renewal_acv","_type":"measure","_n":2,"_view":"sfdc_opportunity"},{"label":"ACV - Annual contract value","type":"sum","sql":"${TABLE}.acv__c ","value_format":"$#,##0","_measure":"acv","_type":"measure","_n":3,"_view":"sfdc_opportunity"},{"label":"IACV - Incremental annual contract value","type":"sum","sql":"${TABLE}.incremental_acv__c ","value_format":"$#,##0","_measure":"iacv","_type":"measure","_n":4,"_view":"sfdc_opportunity"},{"label":"NRV - Non Recurring Value","description":"Example: proserv, training, etc.","type":"sum","sql":"${TABLE}.nrv__c ","value_format":"$#,##0","_measure":"nrv","_type":"measure","_n":5,"_view":"sfdc_opportunity"}],"_view":"sfdc_opportunity","_type":"view","_n":0},{"derived_table":{"sql":"SELECT 'Mid-Market' AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c = 'Mid-Market' OR o.ultimate_parent_sales_segment_o__c = 'Mid-Market')\n        AND   o.sales_segmentation_o__c NOT IN ('Large','Strategic')\n        AND   (o.ultimate_parent_sales_segment_o__c NOT IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IS NULL)\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        UNION ALL\n\n        SELECT CASE WHEN (sales_segmentation_o__c = 'Large' OR ultimate_parent_sales_segment_o__c = 'Large') THEN 'Large'\n                ELSE 'Strategic'\n               END AS opp_segment,\n               a.name AS account_name,\n               o.name AS opp_name,\n               o.sales_accepted_date__c AS sales_accepted_date,\n               o.sql_source__c AS gen_type,\n               COALESCE(o.sales_segmentation_o__c,'Unknown') AS sales_segment,\n               ultimate_parent_sales_segment_o__c AS parent_segment,\n               stagename,\n               o.leadsource,\n               o.type,\n               o.amount AS tcv,\n               o.incremental_acv__c AS iacv\n        FROM sfdc.opportunity o\n          LEFT JOIN sfdc.account a ON a.id = o.accountid\n        WHERE (o.TYPE IN ('New Business','Add-On Business') OR o.TYPE IS NULL)\n        AND   (o.sales_segmentation_o__c IN ('Large','Strategic') OR o.ultimate_parent_sales_segment_o__c IN ('Large','Strategic'))\n        AND   (stagename NOT IN ('00-Pre Opportunity','9-Unqualified','10-Duplicate'))\n        AND   amount >= 0\n        AND   (o.isdeleted IS FALSE)\n        AND   o.leadsource != 'Web Direct'\n\n        ORDER BY sales_accepted_date DESC","_type":"derived_table","_view":"sfdc_sao"},"dimension":{"opp_segment":{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},"opportunity":{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},"lead_type":{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},"sales_segment":{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},"parent_segment":{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},"stagename":{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},"leadsource":{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},"type":{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimensions":[{"description":"Opp Segment","type":"string","sql":"${TABLE}.opp_segment ","_dimension":"opp_segment","_type":"dimension","_n":0,"_view":"sfdc_sao"},{"description":"Customer","type":"string","sql":"${TABLE}.account_name ","_dimension":"customer","_type":"dimension","_n":1,"_view":"sfdc_sao"},{"description":"Opp Name","type":"string","sql":"${TABLE}.opp_name ","_dimension":"opportunity","_type":"dimension","_n":2,"_view":"sfdc_sao"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":3,"_view":"sfdc_sao"},{"description":"Lead Type","type":"string","sql":"${TABLE}.gen_type ","_dimension":"lead_type","_type":"dimension","_n":4,"_view":"sfdc_sao"},{"description":"Sales Segment","type":"string","sql":"${TABLE}.sales_segment ","_dimension":"sales_segment","_type":"dimension","_n":5,"_view":"sfdc_sao"},{"description":"Parent Segment","type":"string","sql":"${TABLE}.parent_segment ","_dimension":"parent_segment","_type":"dimension","_n":6,"_view":"sfdc_sao"},{"description":"Stage Opp Is In","type":"string","sql":"${TABLE}.stagename ","_dimension":"stagename","_type":"dimension","_n":7,"_view":"sfdc_sao"},{"description":"Source of Lead","type":"string","sql":"${TABLE}.leadsource ","_dimension":"leadsource","_type":"dimension","_n":8,"_view":"sfdc_sao"},{"description":"Deal Type","type":"string","sql":"${TABLE}.type ","_dimension":"type","_type":"dimension","_n":9,"_view":"sfdc_sao"}],"dimension_group":{"sales_accepted_date":{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"dimension_groups":[{"type":"time","timeframes":["raw*","date*","week*","month*","quarter*","year*"],"convert_tz":false,"datatype":"date","sql":"${TABLE}.sales_accepted_date ","_dimension_group":"sales_accepted_date","_type":"dimension_group","_n":0,"_view":"sfdc_sao"}],"measure":{"tcv":{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},"iacv":{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},"segment_cnt":{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"},"_view":"sfdc_sao"},"measures":[{"description":"TCV","type":"sum","sql":"${TABLE}.tcv ","_measure":"tcv","_type":"measure","_n":0,"_view":"sfdc_sao"},{"description":"IACV","type":"sum","sql":"${TABLE}.iacv ","_measure":"iacv","_type":"measure","_n":1,"_view":"sfdc_sao"},{"description":"Count from Opp Segment","type":"count_distinct","sql":"${TABLE}.opp_name ","_measure":"segment_cnt","_type":"measure","_n":2,"_view":"sfdc_sao"}],"_view":"sfdc_sao","_type":"view","_n":0},{"sql_table_name":"analytics.\"users\" ","label":"SFDC User","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},"department":{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},"manager_name":{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},"name":{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},"email":{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},"team":{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},"title":{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},"role_name":{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},"manager_id":{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"},"_view":"sfdc_user"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.department ","_dimension":"department","_type":"dimension","_n":1,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.manager_name ","_dimension":"manager_name","_type":"dimension","_n":2,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":3,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":4,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.team ","_dimension":"team","_type":"dimension","_n":5,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.title ","_dimension":"title","_type":"dimension","_n":6,"_view":"sfdc_user"},{"type":"string","sql":"${TABLE}.role_name ","_dimension":"role_name","_type":"dimension","_n":7,"_view":"sfdc_user"},{"hidden":true,"type":"string","sql":"${TABLE}.manager_id ","_dimension":"manager_id","_type":"dimension","_n":8,"_view":"sfdc_user"}],"_view":"sfdc_user","_type":"view","_n":0},{"sql_table_name":"public.fake_events ","dimension":{"event_id":{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},"event":{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},"user_id":{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},"browser":{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},"operating_system":{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"},"_view":"events"},"dimensions":[{"type":"string","sql":"${TABLE}.event_id ","_dimension":"event_id","_type":"dimension","_n":0,"_view":"events"},{"type":"string","sql":"${TABLE}.event ","_dimension":"event","_type":"dimension","_n":1,"_view":"events"},{"type":"string","sql":"${TABLE}.user_id ","_dimension":"user_id","_type":"dimension","_n":2,"_view":"events"},{"type":"string","sql":"${TABLE}.browser ","_dimension":"browser","_type":"dimension","_n":3,"_view":"events"},{"type":"string","sql":"${TABLE}.operating_system ","_dimension":"operating_system","_type":"dimension","_n":4,"_view":"events"}],"dimension_group":{"event_time":{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"},"_view":"events"},"dimension_groups":[{"type":"time","timeframes":["time*","date*","week*","month*","year*"],"sql":"${TABLE}.event_time ","_dimension_group":"event_time","_type":"dimension_group","_n":0,"_view":"events"}],"measure":{"event_count":{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},"user_count":{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},"booking_created":{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},"booking_completed":{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},"booking_paid":{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},"finish_booking_rate":{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},"pay_booking_rate":{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"},"_view":"events"},"measures":[{"label":"Number of Events","type":"count_distinct","sql":"${event_id} ","_measure":"event_count","_type":"measure","_n":0,"_view":"events"},{"label":"Number of Users","type":"count_distinct","sql":"${user_id} ","_measure":"user_count","_type":"measure","_n":1,"_view":"events"},{"label":"Booking Created","type":"count","filters":{"field":"event","value":"Booking Created","_type":"filters","_measure":"booking_created","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_created","_type":"measure","_n":2,"_view":"events"},{"label":"Booking Completed","type":"count","filters":{"field":"event","value":"Booking Completed","_type":"filters","_measure":"booking_completed","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_completed","_type":"measure","_n":3,"_view":"events"},{"label":"Booking Paid","type":"count","filters":{"field":"event","value":"Booking Paid","_type":"filters","_measure":"booking_paid","_view":"events"},"value_format_name":"decimal_0","_measure":"booking_paid","_type":"measure","_n":4,"_view":"events"},{"type":"number","sql":"${booking_completed}::float / nullif(${booking_created}, 0) ","value_format_name":"percent_1","_measure":"finish_booking_rate","_type":"measure","_n":5,"_view":"events"},{"type":"number","sql":"${booking_paid}::float / nullif(${booking_completed}, 0) ","value_format_name":"percent_1","_measure":"pay_booking_rate","_type":"measure","_n":6,"_view":"events"}],"_view":"events","_type":"view","_n":0},{"sql_table_name":"version.usage_data_unpacked ","label":"Usage Data","dimension_group":{"timeframe":{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"},"_view":"usage_data"},"dimension_groups":[{"type":"time","timeframes":["week*","month*"],"sql":"${TABLE}.created_at ","_dimension_group":"timeframe","_type":"dimension_group","_n":0,"_view":"usage_data"}],"dimension":{"host_id":{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},"hostname":{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},"version":{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},"major_version":{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},"main_edition":{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},"tier":{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},"edition":{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},"mattermost_enabled":{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},"has_license":{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},"auto_devops_disabled":{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},"auto_devops_enabled":{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},"boards":{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},"protected_branches":{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},"releases":{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},"remote_mirrors":{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},"snippets":{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},"todos":{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},"uploads":{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},"web_hooks":{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},"keys":{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},"labels":{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},"lfs_objects":{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},"milestones":{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},"notes":{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},"pages_domains":{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},"deploy_keys":{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},"environments":{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},"groups":{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},"in_review_folder":{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},"uuid":{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},"active_user_count":{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},"projects_count":{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},"projects_imported_from_github":{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},"clusters_count":{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},"clusters_enabled":{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},"clusters_disabled":{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},"clusters_platforms_gke":{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},"clusters_platforms_existing":{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},"clusters_helm_deployed":{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},"clusters_ingress_deployed":{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},"clusters_prometheus_deployed":{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},"clusters_runner_deployed":{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},"ci_builds":{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},"ci_deployments":{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},"ci_internal_pipelines":{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},"ci_external_pipelines":{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},"ci_pipeline_config_auto_devops":{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},"ci_pipeline_config_repository":{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},"ci_pipeline_schedules":{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},"ci_runners":{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},"ci_triggers":{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},"issues_count":{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},"merge_requests_count":{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"},"_view":"usage_data"},"dimensions":[{"label":"Host ID","hidden":true,"type":"number","sql":"${TABLE}.host_id ","_dimension":"host_id","_type":"dimension","_n":0,"_view":"usage_data"},{"label":"Host Name","type":"string","sql":"${TABLE}.hostname ","_dimension":"hostname","_type":"dimension","_n":1,"_view":"usage_data"},{"label":"GitLab Version","type":"string","sql":"${TABLE}.version ","_dimension":"version","_type":"dimension","_n":2,"_view":"usage_data"},{"label":"GitLab Version - Major.Minor","type":"string","full_suggestions":true,"sql":"${TABLE}.major_version ","_dimension":"major_version","_type":"dimension","_n":3,"_view":"usage_data"},{"label":"GitLab Edition - CE or EE","type":"string","full_suggestions":true,"sql":"${TABLE}.main_edition ","_dimension":"main_edition","_type":"dimension","_n":4,"_view":"usage_data"},{"label":"GitLab Tier","description":"Core, Starter, Premium, or Ultimate","full_suggestions":true,"type":"string","sql":"${TABLE}.edition_type ","_dimension":"tier","_type":"dimension","_n":5,"_view":"usage_data"},{"label":"GitLab Edition","type":"string","full_suggestions":true,"sql":"${TABLE}.edition ","_dimension":"edition","_type":"dimension","_n":6,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.mattermost_enabled ","_dimension":"mattermost_enabled","_type":"dimension","_n":7,"_view":"usage_data"},{"type":"yesno","sql":"${TABLE}.license_md5 IS NOT NULL ","_dimension":"has_license","_type":"dimension","_n":8,"_view":"usage_data"},{"label":"Auto DevOps Disabled","type":"number","sql":"${TABLE}.auto_devops_disabled ","_dimension":"auto_devops_disabled","_type":"dimension","_n":9,"_view":"usage_data"},{"label":"Auto DevOps Enabled","type":"number","sql":"${TABLE}.auto_devops_enabled ","_dimension":"auto_devops_enabled","_type":"dimension","_n":10,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.boards ","_dimension":"boards","_type":"dimension","_n":11,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.protected_branches ","_dimension":"protected_branches","_type":"dimension","_n":12,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.releases ","_dimension":"releases","_type":"dimension","_n":13,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.remote_mirrors ","_dimension":"remote_mirrors","_type":"dimension","_n":14,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.snippets ","_dimension":"snippets","_type":"dimension","_n":15,"_view":"usage_data"},{"label":"TODOs","type":"number","sql":"${TABLE}.todos ","_dimension":"todos","_type":"dimension","_n":16,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.uploads ","_dimension":"uploads","_type":"dimension","_n":17,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.web_hooks ","_dimension":"web_hooks","_type":"dimension","_n":18,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.keys ","_dimension":"keys","_type":"dimension","_n":19,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.labels ","_dimension":"labels","_type":"dimension","_n":20,"_view":"usage_data"},{"label":"LFS Objects","type":"number","sql":"${TABLE}.lfs_objects ","_dimension":"lfs_objects","_type":"dimension","_n":21,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.milestones ","_dimension":"milestones","_type":"dimension","_n":22,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.{ ","_dimension":"notes","_type":"dimension","_n":23,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.pages_domains ","_dimension":"pages_domains","_type":"dimension","_n":24,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.deploy_keys ","_dimension":"deploy_keys","_type":"dimension","_n":25,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.environments ","_dimension":"environments","_type":"dimension","_n":26,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.groups ","_dimension":"groups","_type":"dimension","_n":27,"_view":"usage_data"},{"type":"number","sql":"${TABLE}.in_review_folder ","_dimension":"in_review_folder","_type":"dimension","_n":28,"_view":"usage_data"},{"description":"Unique ID of GitLab Instance","label":"UUID","type":"string","sql":"${TABLE}.uuid ","_dimension":"uuid","_type":"dimension","_n":29,"_view":"usage_data"},{"label":"Active Users","description":"Returns NULL if 0 to avoid divide by zero errors.","type":"number","sql":"NULLIF(${TABLE}.active_user_count, 0) ","_dimension":"active_user_count","_type":"dimension","_n":30,"_view":"usage_data"},{"label":"Projects","type":"number","sql":"${TABLE}.projects ","_dimension":"projects_count","_type":"dimension","_n":31,"_view":"usage_data"},{"label":"Projects Imported from GitHub","type":"number","sql":"${TABLE}.projects_imported_from_github ","_dimension":"projects_imported_from_github","_type":"dimension","_n":32,"_view":"usage_data"},{"group_label":"Clusters","label":"Count","type":"number","sql":"${TABLE}.clusters ","_dimension":"clusters_count","_type":"dimension","_n":33,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Enabled","type":"number","sql":"${TABLE}.clusters_enabled ","_dimension":"clusters_enabled","_type":"dimension","_n":34,"_view":"usage_data"},{"group_label":"Clusters","label":"Count Disabled","type":"number","sql":"${TABLE}.clusters_disabled ","_dimension":"clusters_disabled","_type":"dimension","_n":35,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms GKE","type":"number","sql":"${TABLE}.clusters_platforms_gke ","_dimension":"clusters_platforms_gke","_type":"dimension","_n":36,"_view":"usage_data"},{"group_label":"Clusters","label":"Platforms Existing","type":"number","sql":"${TABLE}.clusters_platforms_user ","_dimension":"clusters_platforms_existing","_type":"dimension","_n":37,"_view":"usage_data"},{"group_label":"Clusters","label":"Helm Deployed","type":"number","sql":"${TABLE}.clusters_applications_helm ","_dimension":"clusters_helm_deployed","_type":"dimension","_n":38,"_view":"usage_data"},{"group_label":"Clusters","label":"Ingress Deployed","type":"number","sql":"${TABLE}.clusters_applications_ingress ","_dimension":"clusters_ingress_deployed","_type":"dimension","_n":39,"_view":"usage_data"},{"group_label":"Clusters","label":"Prometheus Deployed","type":"number","sql":"${TABLE}.clusters_applications_prometheus ","_dimension":"clusters_prometheus_deployed","_type":"dimension","_n":40,"_view":"usage_data"},{"group_label":"Clusters","label":"Runner Deployed","type":"number","sql":"${TABLE}.clusters_applications_runner ","_dimension":"clusters_runner_deployed","_type":"dimension","_n":41,"_view":"usage_data"},{"group_label":"CI Group","label":"Builds","type":"number","sql":"${TABLE}.ci_builds ","_dimension":"ci_builds","_type":"dimension","_n":42,"_view":"usage_data"},{"group_label":"CI Group","label":"Deployments","type":"number","sql":"${TABLE}.deployments ","_dimension":"ci_deployments","_type":"dimension","_n":43,"_view":"usage_data"},{"group_label":"CI Group","label":"Internal Pipelines","type":"number","sql":"${TABLE}.ci_internal_pipelines ","_dimension":"ci_internal_pipelines","_type":"dimension","_n":44,"_view":"usage_data"},{"group_label":"CI Group","label":"External Pipelines","type":"number","sql":"${TABLE}.ci_external_pipelines ","_dimension":"ci_external_pipelines","_type":"dimension","_n":45,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Auto DevOps","type":"number","sql":"${TABLE}.ci_pipeline_config_auto_devops ","_dimension":"ci_pipeline_config_auto_devops","_type":"dimension","_n":46,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Config Repository","type":"number","sql":"${TABLE}.ci_pipeline_config_repository ","_dimension":"ci_pipeline_config_repository","_type":"dimension","_n":47,"_view":"usage_data"},{"group_label":"CI Group","label":"Pipeline Schedules","type":"number","sql":"${TABLE}.ci_pipeline_schedules ","_dimension":"ci_pipeline_schedules","_type":"dimension","_n":48,"_view":"usage_data"},{"group_label":"CI Group","label":"Runners","type":"number","sql":"${TABLE}.ci_runners ","_dimension":"ci_runners","_type":"dimension","_n":49,"_view":"usage_data"},{"group_label":"CI Group","label":"Triggers","type":"number","sql":"${TABLE}.ci_triggers ","_dimension":"ci_triggers","_type":"dimension","_n":50,"_view":"usage_data"},{"label":"Issues","type":"number","sql":"${TABLE}.issues ","_dimension":"issues_count","_type":"dimension","_n":51,"_view":"usage_data"},{"label":"Merge Requests","type":"number","sql":"${TABLE}.merge_requests ","_dimension":"merge_requests_count","_type":"dimension","_n":52,"_view":"usage_data"}],"measure":{"gitlab_version":{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},"distinct_uuid_count":{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},"average_users":{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},"percentile80_users":{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},"percentile90_users":{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},"percentile99_users":{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},"clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},"enabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},"disabled_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},"gke_clusters":{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},"existing_clusters":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},"helm_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},"ingress_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},"prometheus_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},"runner_deployed":{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},"average_projects_per_user":{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},"percentile80_projects_per_user":{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},"percentile90_projects_per_user":{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},"percentile99_projects_per_user":{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},"average_issues_per_user":{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},"percentile80_issues_per_user":{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},"percentile90_issues_per_user":{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},"percentile99_issues_per_user":{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},"average_merge_requests_per_user":{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},"percentile80_merge_requests_per_user":{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},"percentile90_merge_requests_per_user":{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},"percentile99_merge_requests_per_user":{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"},"_view":"usage_data"},"measures":[{"type":"count_distinct","sql":"${version} ","drill_fields":["version*"],"_measure":"gitlab_version","_type":"measure","_n":0,"_view":"usage_data"},{"label":"Distinct UUID Count","type":"count_distinct","sql":"${uuid} ","_measure":"distinct_uuid_count","_type":"measure","_n":1,"_view":"usage_data"},{"group_label":"Averages per Instance","label":"Users per Instance - Avg","type":"average","sql":"${active_user_count} ","_measure":"average_users","_type":"measure","_n":2,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Users per Instance - 80th %","type":"percentile","percentile":"80","sql":"${active_user_count} ","_measure":"percentile80_users","_type":"measure","_n":3,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Users per Instance - 90th %","type":"percentile","percentile":"90","sql":"${active_user_count} ","_measure":"percentile90_users","_type":"measure","_n":4,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Users per Instance - 99th %","type":"percentile","percentile":"99","sql":"${active_user_count} ","_measure":"percentile99_users","_type":"measure","_n":5,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_count} ","_measure":"clusters","_type":"measure","_n":6,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_enabled} ","_measure":"enabled_clusters","_type":"measure","_n":7,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_disabled} ","_measure":"disabled_clusters","_type":"measure","_n":8,"_view":"usage_data"},{"group_label":"Clusters: Total","label":"GKE Clusters","type":"sum","sql":"${clusters_platforms_gke} ","_measure":"gke_clusters","_type":"measure","_n":9,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_platforms_existing} ","_measure":"existing_clusters","_type":"measure","_n":10,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_helm_deployed} ","_measure":"helm_deployed","_type":"measure","_n":11,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_ingress_deployed} ","_measure":"ingress_deployed","_type":"measure","_n":12,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_prometheus_deployed} ","_measure":"prometheus_deployed","_type":"measure","_n":13,"_view":"usage_data"},{"group_label":"Clusters: Total","type":"sum","sql":"${clusters_runner_deployed} ","_measure":"runner_deployed","_type":"measure","_n":14,"_view":"usage_data"},{"group_label":"Averages per User","label":"Projects per User - Avg","type":"average","sql":"${projects_count} / ${active_user_count} ","_measure":"average_projects_per_user","_type":"measure","_n":15,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Projects per User - 80th %","type":"percentile","percentile":"80","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile80_projects_per_user","_type":"measure","_n":16,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Projects per User - 90th %","type":"percentile","percentile":"90","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile90_projects_per_user","_type":"measure","_n":17,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Projects per User - 99th %","type":"percentile","percentile":"99","sql":"${projects_count} / ${active_user_count} ","_measure":"percentile99_projects_per_user","_type":"measure","_n":18,"_view":"usage_data"},{"group_label":"Averages per User","label":"Issues per User - Avg","type":"average","sql":"${issues_count} / ${active_user_count} ","_measure":"average_issues_per_user","_type":"measure","_n":19,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Issues per User - 80th %","type":"percentile","percentile":"80","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile80_issues_per_user","_type":"measure","_n":20,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Issues per User - 90th %","type":"percentile","percentile":"90","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile90_issues_per_user","_type":"measure","_n":21,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Issues per User - 99th %","type":"percentile","percentile":"99","sql":"${issues_count} / ${active_user_count} ","_measure":"percentile99_issues_per_user","_type":"measure","_n":22,"_view":"usage_data"},{"group_label":"Averages per User","label":"Merge Requests per User - Avg","type":"average","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"average_merge_requests_per_user","_type":"measure","_n":23,"_view":"usage_data"},{"group_label":"80th Percentile Group","label":"Merge Requests per User - 80th %","type":"percentile","percentile":"80","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile80_merge_requests_per_user","_type":"measure","_n":24,"_view":"usage_data"},{"group_label":"90th Percentile Group","label":"Merge Requests per User - 90th %","type":"percentile","percentile":"90","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile90_merge_requests_per_user","_type":"measure","_n":25,"_view":"usage_data"},{"group_label":"99th Percentile Group","label":"Merge Requests per User - 99th %","type":"percentile","percentile":"99","sql":"${merge_requests_count} / ${active_user_count} ","_measure":"percentile99_merge_requests_per_user","_type":"measure","_n":26,"_view":"usage_data"}],"_view":"usage_data","_type":"view","_n":0},{"sql_table_name":"zuora.account ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},"account_name":{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},"account_number":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},"currency":{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"},"_view":"zuora_account"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_account"},{"description":"Name of Zuora Customer","type":"string","sql":"${TABLE}.name ","_dimension":"account_name","_type":"dimension","_n":1,"_view":"zuora_account"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"account_number","_type":"dimension","_n":2,"_view":"zuora_account"},{"description":"Currency of Zuora Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":3,"_view":"zuora_account"}],"_view":"zuora_account","_type":"view","_n":0},{"derived_table":{"sql":"SELECT zuora_account.entity__c AS entity,\n               COALESCE(zuora_contact_bill.workemail,zuora_contact_sold.workemail) AS email,\n               COALESCE(zuora_contact_sold.firstname,zuora_contact_bill.firstname) AS owner,\n               zuora_account.name,\n               zuora_account.accountnumber,\n               zuora_account.currency,\n               CASE\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) < 30 THEN '1: <30'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 30 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 60 THEN '2: 30-60'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 61 AND (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) <= 90 THEN '3: 61-90'\n                 WHEN (EXTRACT(DAY FROM zuora_invoice.duedate - CURRENT_DATE)*-1) >= 91 THEN '4: >90'\n                 ELSE 'Unknown'\n               END AS day_range,\n               COALESCE(zuora_invoice.balance,0) AS balance,\n               zuora_invoice.invoicenumber AS invoice,\n               zuora_invoice.duedate as duedate\n        FROM zuora.invoice AS zuora_invoice\n        INNER JOIN zuora.account AS zuora_account\n          ON zuora_invoice.accountid = zuora_account.id\n        LEFT JOIN zuora.contact AS zuora_contact_bill\n          ON zuora_contact_bill.id = zuora_account.billtocontact\n        LEFT JOIN zuora.contact AS zuora_contact_sold\n          ON zuora_contact_sold.id = zuora_account.soldtocontactid\n        WHERE (zuora_invoice.status = 'Posted')\n        AND   zuora_invoice.balance > 0\n        ","_type":"derived_table","_view":"zuora_ar"},"dimension":{"90_days_open_invoices":{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},"send_email":{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},"entity":{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},"email":{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},"day_range":{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},"invoice":{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},"customer":{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},"currency":{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},"acct_num":{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},"duedate":{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},"owner":{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"},"_view":"zuora_ar"},"dimensions":[{"type":"string","sql":"${beyond_90days_open_invoices.list_of_open_invoices} ","_dimension":"90_days_open_invoices","_type":"dimension","_n":0,"_view":"zuora_ar"},{"hidden":true,"sql":"${acct_num} ","html":"<a href=\"https://mail.google.com/mail/?view=cm&fs=1&to={{ email._value }}&cc=ar@gitlab.com&su={{customer._value}} invoice(s) are overdue&body=Hi {{owner._value}},\n                   %0D%0DI am reaching out to let you know that the GitLab invoice(s) below are 90 days overdue.\n                   %0D%0DThe current balance of the invoice(s) amount to {{balance._rendered_value}}\n                   %0D%0DIf you have not already done so, please take a moment to make the payment today.\n                   %0D%0DThe invoice can be paid via wire transfer or credit card.\n                   %0D%0DWe look forward to receiving your payment.\n                   %0D%0D{{90_days_open_invoices._value}}\n                   %0D%0DThank you,\" target=\"_blank\">\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/4e/Gmail_Icon.png\" width=\"16\" height=\"16\"/>\n          <a> Click icon to email\n          ","_dimension":"send_email","_type":"dimension","_n":1,"_view":"zuora_ar"},{"description":"GitLab Entity","type":"string","sql":"${TABLE}.entity ","_dimension":"entity","_type":"dimension","_n":2,"_view":"zuora_ar"},{"description":"Customer Email","type":"string","sql":"${TABLE}.email ","_dimension":"email","_type":"dimension","_n":3,"_view":"zuora_ar"},{"description":"Account Number of Zuora Customer","type":"string","sql":"${TABLE}.day_range ","_dimension":"day_range","_type":"dimension","_n":4,"_view":"zuora_ar"},{"description":"Invoice of Customer","type":"string","sql":"${TABLE}.invoice ","_dimension":"invoice","_type":"dimension","_n":5,"_view":"zuora_ar"},{"description":"Customer","type":"string","sql":"${TABLE}.name ","_dimension":"customer","_type":"dimension","_n":6,"_view":"zuora_ar"},{"description":"Currency of Customer","type":"string","sql":"${TABLE}.currency ","_dimension":"currency","_type":"dimension","_n":7,"_view":"zuora_ar"},{"description":"Acct # of Customer","type":"string","sql":"${TABLE}.accountnumber ","_dimension":"acct_num","_type":"dimension","_n":8,"_view":"zuora_ar"},{"description":"Due Date of Invoice","type":"string","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":9,"_view":"zuora_ar"},{"description":"Customer Name","type":"string","sql":"${TABLE}.owner ","_dimension":"owner","_type":"dimension","_n":10,"_view":"zuora_ar"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},"invoice_cnt":{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},"count":{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"},"_view":"zuora_ar"},"measures":[{"description":"Balance due from Customer","type":"sum","value_format":"$#,##0","sql":"${TABLE}.balance ","drill_fields":["entity*","customer*","acct_num*","90_days_open_invoices*","send_email*","balance*"],"_measure":"balance","_type":"measure","_n":0,"_view":"zuora_ar"},{"description":"Count from Customer","type":"count_distinct","drill_fields":["entity*","customer*","acct_num*","duedate*","balance*"],"sql":"${TABLE}.invoice ","_measure":"invoice_cnt","_type":"measure","_n":1,"_view":"zuora_ar"},{"type":"count","_measure":"count","_type":"measure","_n":2,"_view":"zuora_ar"}],"_view":"zuora_ar","_type":"view","_n":0},{"sql_table_name":"zuora.invoice ","dimension":{"id":{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},"accountid":{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},"duedate":{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},"status":{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},"invoicenumber":{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},"days_overdue":{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},"day_range":{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"dimensions":[{"primary_key":true,"hidden":true,"type":"string","sql":"${TABLE}.id ","_dimension":"id","_type":"dimension","_n":0,"_view":"zuora_invoice"},{"hidden":true,"type":"string","sql":"${TABLE}.accountid ","_dimension":"accountid","_type":"dimension","_n":1,"_view":"zuora_invoice"},{"description":"Invoice Due Date","type":"date","sql":"${TABLE}.duedate ","_dimension":"duedate","_type":"dimension","_n":2,"_view":"zuora_invoice"},{"description":"Invoice Status","type":"string","sql":"${TABLE}.status ","_dimension":"status","_type":"dimension","_n":3,"_view":"zuora_invoice"},{"description":"Invoice Number","type":"string","sql":"${TABLE}.invoicenumber ","_dimension":"invoicenumber","_type":"dimension","_n":4,"_view":"zuora_invoice"},{"description":"Days Overdue on Invoice","type":"number","sql":"EXTRACT(DAY FROM ${TABLE}.duedate - CURRENT_DATE)*-1 ","_dimension":"days_overdue","_type":"dimension","_n":5,"_view":"zuora_invoice"},{"label":"Days Range Outstanding","case":{"when":[{"sql":"${days_overdue} <30 ","label":"<30","_type":"when","_n":0,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 30 AND ${days_overdue} <=60 ","label":"30-60","_type":"when","_n":1,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 61 AND ${days_overdue} <=90  ","label":"61-90","_type":"when","_n":2,"_dimension":"day_range","_view":"zuora_invoice"},{"sql":"${days_overdue} >= 91  ","label":">90","_type":"when","_n":3,"_dimension":"day_range","_view":"zuora_invoice"}],"else":"Unknown","_type":"case","_dimension":"day_range","_view":"zuora_invoice"},"_dimension":"day_range","_type":"dimension","_n":6,"_view":"zuora_invoice"}],"measure":{"balance":{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},"invoice":{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"},"_view":"zuora_invoice"},"measures":[{"description":"Balance due from Customer","type":"sum","sql":"${TABLE}.balance ","_measure":"balance","_type":"measure","_n":0,"_view":"zuora_invoice"},{"description":"Count Distinct Invoices","type":"count_distinct","sql":"${TABLE}.invoicenumber ","_measure":"invoice","_type":"measure","_n":1,"_view":"zuora_invoice"}],"_view":"zuora_invoice","_type":"view","_n":0},{"sql_table_name":"zuora.product ","dimension":{"name":{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},"effectivestartdate":{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"},"_view":"zuora_product"},"dimensions":[{"description":"Product Name","type":"string","sql":"${TABLE}.name ","_dimension":"name","_type":"dimension","_n":0,"_view":"zuora_product"},{"description":"Subscription Start Date","type":"date","sql":"${TABLE}.effectivestartdate ","_dimension":"effectivestartdate","_type":"dimension","_n":1,"_view":"zuora_product"}],"measure":{"distinct_product":{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"},"_view":"zuora_product"},"measures":[{"description":"Distinct Products by Subscriptions","type":"count_distinct","sql":"${TABLE}.id ","_measure":"distinct_product","_type":"measure","_n":0,"_view":"zuora_product"}],"_view":"zuora_product","_type":"view","_n":0}]}}}
